---
title: "How to Install"
---

BON in a Box can be installed and run locally on your local computer. This allows the user to add scripts and create pipelines on their local computer to be run through BON in a Box. Here are the instructions for installing BON in a Box to run on a local computer.

## Running the servers locally {#running-the-servers-locally}

Prerequisites :

-   Git - A github account, with an SSH key registered. See [Adding a new SSH key to your GitHub account](https://docs.github.com/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account).

-   At least 6 GB of free space (this includes the installation of Docker Desktop) - RAM requirements will depend on the scripts that you run.

-   **Windows:**

    -   [Docker Desktop](https://www.docker.com/products/docker-desktop/) - Note that it is not necessary to make an account

-   A Linux shell (git bash, [Bash through PowerShell](https://learn.microsoft.com/en-us/windows/wsl/install), cygwin, etc.) necessary to run th `.sh` scripts in the instructions below.

-   **Mac:**

    -   [Docker Desktop](https://www.docker.com/products/docker-desktop/) Note that it is not necessary to make an account

    -   Make sure docker is added to the path of your terminal. From a terminal, run command `docker run hello-world`. If there is an error message, see <https://stackoverflow.com/a/71923962/3519951>.

    -   If you encounter error `no matching manifest for linux/arm64/v8 in the manifest list entries`, export DOCKER_DEFAULT_PLATFORM. See <https://stackoverflow.com/a/76404045/3519951>.

-   **Linux:** Docker with Docker Compose installed. It is recommended to [add your user to the docker group](https://docs.docker.com/engine/install/linux-postinstall/).

To run:

1.  Clone repository (Windows users: do not clone the repo in a folder under OneDrive.) This can be done in terminal using the following code: `git clone git@github.com:GEO-BON/bon-in-a-box-pipelines.git` or in GitHub desktop.

2.  Provide the environment variables: - Open the newly cloned repository on your computer - Find the file called [`runner-sample.env`](https://github.com/GEO-BON/bon-in-a-box-pipelines/blob/main/runner-sample.env) - Duplicate the file and rename the copy to `runner.env`. - Fill the properties depending on what you intend to run. - Adjust any server option as you see fit.

3.  Using a linux terminal (terminal on Mac or Git Bash), navigate to the folder of the cloned repository.

4.  In the linux terminal, type `./server-up.sh`

    -   Make sure the server is started from a linux terminal that is in the same folder as the cloned repository so it can access the files.

    -   Make sure you have docker open and running on your computer.

    -   The first execution will be long, in order to download the micro-services. The next ones will be shorter or immediate, depending on the changes.

    -   Network problems may cause the process to fail. First try running the command again. Intermediate states are saved so not everything will be redone even when there is a failure.

    -   Windows users may need to turn on virtualization and other tools for Docker Desktop to work and update wsl ("wsl --update", see <https://docs.docker.com/desktop/troubleshoot/topics/#virtualization>. Access to the BIOS may be required to enable virtualization)

5.  Type <http://localhost/> to open BON in a Box

6.  Run `./server-down.sh` in a terminal to stop the server when done

7.  On Windows, to completely stop the processes, you might have to run `wsl --shutdown`

When modifying scripts in the `/scripts` folder, servers do not need to be restarted: - When modifying an existing script, simply re-run the script from the UI and the new version will be executed. - When adding or renaming scripts, refresh the browser page.

When modifying pipelines in the /pipelines folder, servers do not need to be restarted: - In the pipeline editor, click save, paste the file to your file in the pipeline folder and run it from the "pipeline run" page. - When adding or renaming pipelines, refresh the browser page.

## Running the servers remotely {#running-the-servers-remotely}

Use the [ansible playbook](ansible/README.md) instructions.

## Running a script or pipeline

You have an instance of BON in a Box running, either [locally](#running-the-servers-locally) or [remotely](#running-the-servers-remotely), and you want to run your first script or pipeline.

There is one page to run scripts, and one to run pipelines. Select the script or pipelines from the dropdown and fill the form.

The form might ask you for a file. In order to provide a file that you own locally, upload or copy it to the `userdata` folder. You can then refer to it with a url as such: `/userdata/myFile.shp`, or `/userdata/myFolder/myFile.shp` if there are subfolders.
