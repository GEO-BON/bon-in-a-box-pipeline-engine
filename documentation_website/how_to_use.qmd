---
title: ""
format: html
---

## Installing BON in a Box

The instructions for how to install BON in a Box on your computer can be found [here](how_to_install.qmd).

## Start BON in a Box

1.  Start the server by running `./server-up.sh` in a Linux terminal (e.g. Git Bash or WSL on Windows or Terminal on Mac). Make sure you are in the bon-in-a-box-pipeline directory on your computer.
2.  Open a web browser and navigate to <http://localhost/>.

# User Guide

Here is a detailed guide on how to run BON in a Box locally on your computer. This guide outlines the features of BON in a Box and how to use them.

## Home

Under the `Home` tab, you will find a description of the BON in a Box modeling tool, as well as its featured pipelines. And your most recent pipeline runs.

::: {style="margin-top: 40px;"}
:::

![](images/Image7.png)

::: {style="margin-top: 40px;"}
:::

## Run a script

The `Run a script` tab lets you run an individual script. Scripts are individual parts of pipelines designed to perform one well-defined task at a time, like extracting data from a file, cleaning files, or applying a specific formulas.

The `Run a script` functionality is usually used for testing individual components of a pipeline rather than producing usable outputs. Additionally, unlike pipelines, scripts often require inputs that are produced by other scripts, and so they may not run successfully with the default parameters. However, running a script can be useful for bug fixing or trying to understand the purpose and outputs of a given step.

::: {style="margin-top: 40px;"}
:::

![](images/Image8.png)

::: {style="margin-top: 40px;"}
:::

1.  Select from the drop down menu the script you would like to run.

    -   Under the menu you have a description of the script, with its authors and references.

2.  Fill out the form with the input parameters the script should use.

    -   Some inputs have default parameters, but will not always run successfully with these parameters if they require file inputs that are created by other scripts. You may have to input your own files from the "userdata" folder.

    -   Some inputs can simply be typed in, while others are options.

    -   Each input field includes a description and its purpose on the right of the input box. Here you will also see the *type* of the input.

    -   The form might ask you for a file. In order to provide a file that you have locally on your computer, upload or copy it to the `userdata` folder. You can then refer to it with a url as such: `/userdata/myFile.shp`, or `/userdata/myFolder/myFile.shp` if there are subfolders. Most scripts can also accept remote files (https://). That will be specified in the input documentation.

    -   **Please ensure each input matches the required type that is specified in the input description.** The input will either be a primitive type (i.e. a text, integer, float, array, etc.) which the user will type in or a MIME type representing a file (e.g. geopackage, geoTIFF, CSV, etc.) where the user will provide the path to that file. **For any details on input types, please refer to "Step 3: Create a YAML File" on [this page](how_to_contribute.qmd).**

    -   The `Input yaml` tab can be used to see how your inputs are being passed in to the script. This is useful for sharing pipeline inputs for recreating results, as it can be copied and pasted to fill the input form. By scrolling down, you can also see how the inputs were defined by the author(s).

3.  Click on `Run script`. To terminate the execution of the script at any point, use the `Stop` button.

After the script runs, you'll see a detailed results box, which includes drop down arrows to view your inputs and script outputs. To simply view your output, click on the blue name or arrow. A gray box containing the script logs can be found under the outputs, which can help with debugging problems that occured.

::: {style="margin-top: 40px;"}
:::

![](images/Image10.png)

::: {style="margin-top: 40px;"}
:::

If you see a red exclamation mark, the script failed to completely execute and an error message will be displayed. If you encounter an error due to the script’s internal structure (i.e. not a problem with your input parameters), please contact us on [Discourse](https://discourse.geobon.org) or email us at boninabox\@geobon.org.

To download outputs, simply cilck the link next the output name.

::: {style="margin-top: 40px;"}
:::

![](images/Image11.png)

::: {style="margin-top: 40px;"}
:::

To run the script again, click `Run script` in the input form.

## Run a pipeline

The `Run a pipeline` tab can be used to run an entire pipeline and works very similarly to the `Run a script` tab. Pipelines run a full sequence of connected scripts and are designed to carry out a full analysis from start to finish. Each pipeline integrates multiple steps like pulling data, cleaning data, performing analyses, and plotting and formatting outputs into one automated workflow.

::: {style="margin-top: 40px;"}
:::

![](images/Image12.png)

::: {style="margin-top: 40px;"}
:::

Simply fill out the desired inputs and click on `Run pipeline`. To terminate the execution of the pipeline at any point, use the `stop` button. While the pipeline is running, you may see its progress under `Results`.

The `Results` box displays the outputs of the pipeline. You may view them using the drop down menu for each, or use `See in results viewer` for a more detailed view. Outputs can be downloaded by using the link next to the output name.

In the `Detailed results` you will find all the individual scripts used throughout the pipeline, as well as their inputs and outputs.

::: {style="margin-top: 40px;"}
:::

![](images/Image13.png)

::: {style="margin-top: 40px;"}
:::

## Pipeline editor

Under the `Pipeline editor` tab, users can create and edit pipelines. For more information on how to do so, please refer to Step 6 of [this page](how_to_contribute.qmd).

::: {style="margin-top: 40px;"}
:::

![](images/Image14.png)

::: {style="margin-top: 40px;"}
:::

## History

The `History` tab shows previous script and pipeline runs.

::: {style="margin-top: 40px;"}
:::

![](images/Image15.png)

::: {style="margin-top: 40px;"}
:::

Use the drop down arrow to see the inputs of a run and `See run in UI` to view the details of a run, including the inputs, outputs, and logs. The latter can be used to try the run again with some or all of the same inputs. For pipelines, you may see outputs in the results viewer using `See in viewer`.

::: {style="margin-top: 40px;"}
:::

![](images/Image16.png)

::: {style="margin-top: 40px;"}
:::

**For any further questions, please contact us on [Discourse](https://discourse.geobon.org) or email us at boninabox\@geobon.org.**